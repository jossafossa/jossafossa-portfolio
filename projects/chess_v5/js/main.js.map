{"version":3,"sources":["webpack:///webpack/bootstrap 75c9c4e7efb002c1923e","webpack:///./js/raw/index.js","webpack:///./js/raw/ChessGame.js","webpack:///./js/raw/Piece.js","webpack:///./js/raw/Board.js","webpack:///./js/raw/Cell.js","webpack:///./js/raw/PieceAnimator.js","webpack:///./js/raw/Player.js","webpack:///./js/raw/Logic.js"],"names":["config","size","colors","ChessGame","extend","i","arguments","length","key","hasOwnProperty","board","defaultConfig","players","black","layout","color","orientation","white","pieces","name","artwork","logic","x","y","piecesSetup","playerSetup","boardElem","document","querySelectorAll","Board","element","activePlayer","activePlayerIndex","selectedCell","validMoves","validCaptures","validFirstMoves","generatePlayers","populateBoard","self","onPieceSelect","cell","selectPiece","onCellSelect","selectCell","console","log","piece","getValidFirstMoves","getValidMoves","getValidCaptures","markCells","includes","move","unmarkCells","switchPlayer","player","push","Player","pieceID","Logic","get","addPiece","Piece","id","createElement","classList","add","style","backgroundImage","calculateOrientation","ruleType","rules","dir","j","rule","display","cells","generateBoard","drawBoard","Cell","pos","onClick","clickedOnCell","hasPiece","forEach","append","getElement","moves","getValidMovesByLogic","valid","cellPos","calcOffset","cellIndex","posToIndex","target","IsOnBoard","cellIsEmpty","cellIsOpponent","mark","unmark","PieceAnimator","finishMove","removePiece","targetIndex","hide","show","backgroundColor","width","height","addEventListener","e","children","remove","from","to","callback","animate","fromTop","getBoundingClientRect","top","documentElement","scrollTop","fromLeft","left","scrollLeft","toTop","toLeft","background","transform","body","setTimeout","triggerCallback","removeChild","parsedRules","captureMoves","firstMoves","firstCapures","split","index","parsedRule","Rule","type","isMove","isCapture","isFirst","infinite","infinitePower","coordIndex","nrIndex","negative","char","charAt","isNaN","parseInt","Math","pow","calcInfinite","all","power","lowestPower"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 75c9c4e7efb002c1923e","import {ChessGame} from \"./ChessGame.js\";\r\n\r\n\r\nvar config = {\r\n\tsize: [8,8],\r\n\tcolors: [\"rgb(95, 77, 60)\", \"#D9D0C0\"]\r\n};\r\n\r\nnew ChessGame(\".board\", config);\n\n\n// WEBPACK FOOTER //\n// ./js/raw/index.js","import {Piece} from \"./Piece.js\";\r\nimport {Board} from \"./Board.js\";\r\nimport {Player} from \"./Player.js\";\r\nimport {Logic} from \"./Logic.js\";\r\n\r\nfunction extend(){\r\n  for(var i=1; i<arguments.length; i++)\r\n    for(var key in arguments[i])\r\n      if(arguments[i].hasOwnProperty(key))\r\n        arguments[0][key] = arguments[i][key];\r\n  return arguments[0]; \r\n}\r\n\r\nexport class ChessGame {\r\n\tconstructor(board, config) {\r\n\t\t// defaults\r\n\t\tvar defaultConfig = {\r\n\t\t\tsize: [8,8],\r\n\t\t\tcolors: [\"white\", \"black\"],\r\n\t\t\tplayers: {\r\n\t\t\t\tblack: {\r\n\t\t\t\t\tlayout: [\r\n\t\t\t\t\t\t4,3,2,6,5,2,3,4,\r\n\t\t\t\t\t\t1,1,1,1,1,1,1,1,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\torientation: \"down\",\r\n\t\t\t\t},\t\r\n\t\t\t\twhite: {\r\n\t\t\t\t\tlayout: [\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t0,0,0,0,0,0,0,0,\r\n\t\t\t\t\t\t1,1,1,1,1,1,1,1,\r\n\t\t\t\t\t\t4,3,2,6,5,2,3,4,\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\torientation: \"up\",\r\n\t\t\t\t},\t\t\t\r\n\t\t\t},\r\n\t\t\tpieces: {\r\n\t\t\t\t1: {\r\n\t\t\t\t\tname: \"pawn\",\r\n\t\t\t\t\tartwork: \"img/pawn/\",\r\n\t\t\t\t\tlogic: \"fm0,1i2;m0,1;c1,1;c-1,1\",\r\n\t\t\t\t},\r\n\t\t\t\t2: {\r\n\t\t\t\t\tname: \"bishop\",\r\n\t\t\t\t\tartwork: \"img/bishop/\",\r\n\t\t\t\t\tlogic: \"mc1i,1i;mc1i,-1i;mc-1i,-1i;mc-1i,1i\",\r\n\t\t\t\t},\r\n\t\t\t\t3: {\r\n\t\t\t\t\tname: \"knight\",\r\n\t\t\t\t\tartwork: \"img/knight/\",\r\n\t\t\t\t\tlogic: \"mc1,2;mc2,1;mc2,-1;mc1,-2;mc-1,-2;mc-2,-1;mc-2,1;mc-1,2\",\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t4: {\r\n\t\t\t\t\tname: \"rook\",\r\n\t\t\t\t\tartwork: \"img/rook/\",\r\n\t\t\t\t\tlogic: \"mc0,1i;mc1i,0;mc0,-1i;mc-1i,0\",\r\n\t\t\t\t},\r\n\t\t\t\t5: {\r\n\t\t\t\t\tname: \"king\",\r\n\t\t\t\t\tartwork: \"img/king/\",\r\n\t\t\t\t\tlogic: \"mc0,1;mc1,1;mc1,0;mc1,-1;mc0,-1;mc-1,-1;mc-1,0;mc-1,1\",\r\n\t\t\t\t},\r\n\t\t\t\t6: {\r\n\t\t\t\t\tname: \"queen\",\r\n\t\t\t\t\tartwork: \"img/queen/\",\r\n\t\t\t\t\tlogic: \"mc0,1i;mc1i,1i;mc1i,0;mc1i,-1i;mc0,-1i;mc-1i,-1i;mc-1i,0;mc-1i,1i\",\r\n\t\t\t\t},\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// LOGIC\r\n\t\t// * all coordinates are relative to the playing direction. \r\n\t\t// * 1 = towards opponent, -1 away from opponent\r\n\t\t// \r\n\t\t// normal rule:\r\n\t\t// [m][c][f]<x>[i][<nr_of_steps>],<y>[i][<nr_of_steps>];\r\n\t\t// example: mc0,1i2;\r\n\t\t// \r\n\t\t// transfrom rule:\r\n\t\t// t[r<row_id>|c<column_id>],<piece_id>;\r\n\t\t// example: tr1,2;\r\n\t\t// \r\n\t\t// win condition:\r\n\t\t// w[??]\r\n\r\n\t\t// extend defaults\r\n\t\tthis.config = extend(defaultConfig, config);\r\n\r\n\t\t// shorthands for config\r\n\t\tthis.size = {x: this.config[\"size\"][0], y: this.config[\"size\"][1]};\r\n\t\tthis.colors = this.config[\"colors\"];\r\n\t\tthis.piecesSetup = this.config[\"pieces\"];\r\n\t\tthis.playerSetup = this.config[\"players\"];\r\n\r\n\t\t// setup variables\r\n\t\tthis.boardElem = document.querySelectorAll(board)[0];\r\n\t\tthis.board = new Board({element: this.boardElem, size: this.size, colors: this.colors});\r\n\t\tthis.pieces = {};\r\n\t\tthis.players = [];\r\n\t\tthis.activePlayer;\r\n\t\tthis.activePlayerIndex = 0;\r\n\t\tthis.selectedCell = false;\r\n\t\tthis.validMoves = [];\r\n\t\tthis.validCaptures = [];\r\n\t\tthis.validFirstMoves = [];\r\n\r\n\t\t// setup sequence\r\n\t\t// this.generatePieces();\r\n\t\tthis.generatePlayers();\r\n\t\tthis.populateBoard();\r\n\r\n\t\tvar self = this;\r\n\t\tthis.board.onPieceSelect = function(cell) {self.selectPiece(cell)};\t\t\r\n\t\tthis.board.onCellSelect = function(cell) {self.selectCell(cell)};\r\n\t}\r\n\r\n\tselectPiece(cell) {\r\n\t\tconsole.log(\"click piece\");\r\n\t\tif (!this.selectedCell) {\r\n\t\t\tif (this.activePlayer.color == cell.piece.color) {\r\n\t\t\t\tconsole.log(\"own player\");\r\n\t\t\t\tthis.selectedCell = cell;\r\n\t\t\t\tthis.validFirstMoves = this.board.getValidFirstMoves(cell);\r\n\t\t\t\tthis.validMoves = this.board.getValidMoves(cell);\r\n\t\t\t\tthis.validCaptures = this.board.getValidCaptures(cell);\r\n\r\n\t\t\t\tthis.board.markCells(this.validMoves);\r\n\t\t\t\tthis.board.markCells(this.validCaptures);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.validCaptures.includes(cell)) {\r\n\t\t\t\tconsole.log(\"capture\");\r\n\t\t\t\tthis.board.move(this.selectedCell, cell);\r\n\t\t\t\tthis.selectedCell = false;\r\n\t\t\t\tthis.board.unmarkCells();\r\n\t\t\t\tthis.switchPlayer();\r\n\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\tthis.selectedCell = false;\r\n\t\t\t\tthis.board.unmarkCells();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tselectCell(cell) {\r\n\t\tconsole.log(\"click cell\");\r\n\t\tif (this.selectedCell && this.validMoves.includes(cell)) {\r\n\t\t\tthis.board.move(this.selectedCell, cell);\r\n\t\t\tthis.selectedCell = false;\r\n\t\t\tthis.switchPlayer();\r\n\t\t\tthis.board.unmarkCells();\r\n\t\t} else {\r\n\t\t\tthis.selectedCell = false;\r\n\t\t\tthis.board.unmarkCells();\r\n\t\t}\r\n\t}\r\n\r\n\t// generatePieces() {\r\n\t// \tfor(var name in this.piecesSetup) {\r\n\t// \t\tvar piece = this.piecesSetup[name];\r\n\t// \t\tvar logic = new Logic(piece[\"logic\"]).get();\r\n\t// \t\tconsole.log(logic);\r\n\t// \t\tthis.pieces[piece[\"id\"]] = new Piece({\r\n\t// \t\t\tname: name, \r\n\t// \t\t\tid: piece[\"id\"], \r\n\t// \t\t\tartwork: piece[\"artwork\"], \r\n\t// \t\t\tlogic: logic,\r\n\t// \t\t});\r\n\t// \t}\r\n\t// }\r\n\r\n\tgeneratePlayers() {\r\n\t\tfor(var name in this.playerSetup) {\r\n\t\t\tvar player = this.playerSetup[name];\r\n\t\t\tthis.players.push( new Player({\r\n\t\t\t\tname: name,\r\n\t\t\t\tcolor: player[\"color\"],\r\n\t\t\t\torientation: player[\"orientation\"],\r\n\t\t\t\tlayout: player[\"layout\"],\r\n\t\t\t}) );\r\n\t\t}\r\n\t\tthis.activePlayer = this.players[this.activePlayerIndex];\r\n\t}\r\n\r\n\tswitchPlayer() {\r\n\t\tthis.activePlayerIndex = (this.activePlayerIndex + 1) % this.players.length;\r\n\t\tthis.activePlayer = this.players[this.activePlayerIndex];\r\n\t\tconsole.log(this.activePlayerIndex);\r\n\t}\r\n\r\n\tpopulateBoard() {\r\n\t\tfor (var i in this.players) {\r\n\t\t\tvar player = this.players[i];\r\n\t\t\tvar layout = this.players[i].layout;\r\n\t\t\tfor (var cell in layout) {\r\n\t\t\t\tvar pieceID = layout[cell];\r\n\t\t\t\tif (pieceID != 0) {\t\t\r\n\t\t\t\t\tvar piece = this.piecesSetup[pieceID];\r\n\t\t\t\t\tvar logic = new Logic(piece[\"logic\"]).get();\r\n\t\t\t\t\tthis.board.addPiece( cell, new Piece({\r\n\t\t\t\t\t\tname: piece[\"name\"], \r\n\t\t\t\t\t\tid: pieceID, \r\n\t\t\t\t\t\tartwork: piece[\"artwork\"], \r\n\t\t\t\t\t\tlogic: logic,\r\n\t\t\t\t\t\tcolor: player[\"color\"],\r\n\t\t\t\t\t\torientation: player[\"orientation\"],\r\n\t\t\t\t\t}) )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/ChessGame.js","export class Piece {\r\n\tconstructor(config) {\r\n\t\tthis.id = config[\"id\"];\r\n\t\tthis.artwork = config[\"artwork\"];\r\n\t\tthis.logic = config[\"logic\"];\r\n\t\tthis.color = config[\"color\"];\r\n\t\tthis.orientation = config[\"orientation\"];\r\n\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"piece\");\r\n\t\tthis.element.style.backgroundImage = \"url('\" + this.artwork + this.color + \".svg')\";\r\n\r\n\t\tthis.calculateOrientation();\r\n\t}\r\n\r\n\t// up\r\n\t// [1,1] -> [-1,-1] = x*-1 & y*-1\r\n\t// \r\n\t// right\r\n\t// (x,y) => (y,-x)\r\n\t// \r\n\t// left\r\n\t// (x,y) => (-y,x)\r\n\t// [1,1] -> [-1, 1] = x*-1 & y*1\r\n\t// [-1,0] -> [0, -1] = x*-1 & y*1\r\n\r\n\tcalculateOrientation() {\r\n\r\n\t\tfor (var ruleType in this.logic) {\r\n\t\t\tvar rules = this.logic[ruleType];\r\n\t\t\tfor (var i in rules) {\r\n\t\t\t\tvar dir = rules[i];\r\n\t\t\t\tfor (var j in dir) {\r\n\t\t\t\tvar move = dir[j];\r\n\t\t\t\t\tif (this.orientation == \"up\") {\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].x *= -1;\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].y *= -1;\r\n\t\t\t\t\t} else if (this.orientation == \"right\") {\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].x = rule.y;\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].y = rule.x * -1;\r\n\t\t\t\t\t} else if (this.orientation == \"left\") {\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].x = rule.y * -1;\r\n\t\t\t\t\t\tthis.logic[ruleType][i][j].y = rule.x;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tshow() {\r\n\t\tthis.element.style.display = \"block\";\r\n\t}\r\n\r\n\thide() {\r\n\t\tthis.element.style.display = \"none\";\r\n\t}\r\n\r\n\tgetElement() {\r\n\t\treturn this.element;\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/Piece.js","import {Cell} from \"./Cell.js\";\r\nimport {PieceAnimator} from \"./PieceAnimator.js\";\r\n\r\nexport class Board {\r\n\tconstructor(config) {\r\n\t\tthis.boardElem = config[\"element\"];\r\n\t\tthis.size = config[\"size\"];\r\n\t\tthis.colors = config[\"colors\"];\r\n\t\tthis.cells = [];\r\n\r\n\t\tthis.onPieceSelect = function(){};\r\n\t\tthis.onCellSelect = function(){};\r\n\r\n\t\tthis.generateBoard();\t\t\r\n\t\tthis.drawBoard();\r\n\t}\r\n\r\n\tgenerateBoard() {\r\n\t\tfor(var y = 0; y < this.size.y; y++) {\r\n\t\t\tfor (var x = 0; x < this.size.x; x++) {\r\n\t\t\t\tvar color = y % 2 == x % 2 ? this.colors[0] : this.colors[1];\r\n\t\t\t\tvar cell = new Cell({color: color, size: this.size, pos: [x, y]});\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tcell.onClick = function(cell){ self.clickedOnCell(cell) };\r\n\t\t\t\tthis.cells.push(cell);\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\tclickedOnCell(cell) {\r\n\t\tif (cell.hasPiece()) {\t\t\t\r\n\t\t\tthis.onPieceSelect(cell);\r\n\t\t} else {\r\n\t\t\tthis.onCellSelect(cell);\r\n\t\t}\r\n\t}\r\n\r\n\tdrawBoard() {\r\n\t\tvar self = this;\r\n\t\tthis.cells.forEach(function(cell) {\r\n\t\t\tself.boardElem.append(cell.getElement());\r\n\t\t})\r\n\t}\r\n\r\n\taddPiece(cell, piece) {\r\n\t\tthis.cells[cell].addPiece(piece);\r\n\t}\r\n\r\n\tgetValidMoves(cell) {\r\n\t\tvar moves = cell.piece.logic[\"moves\"];\r\n\t\treturn this.getValidMovesByLogic(cell, moves);\r\n\t}\r\n\r\n\tgetValidFirstMoves(cell) {\r\n\t\tvar moves = cell.piece.logic[\"firstMoves\"];\t\t\r\n\t\treturn this.getValidMovesByLogic(cell, moves);\r\n\t}\r\n\r\n\tgetValidMovesByLogic(cell, moves) {\r\n\t\tvar valid = [];\r\n\t\tfor (var i in moves) {\r\n\t\t\tvar dir = moves[i];\r\n\t\t\tfor (var j in dir) {\r\n\t\t\t\tvar move = dir[j];\r\n\t\t\t\tvar cellPos = this.calcOffset(cell, move.x, move.y);\r\n\t\t\t\tvar cellIndex = this.posToIndex(cellPos);\r\n\t\t\t\tvar target = this.cells[cellIndex];\r\n\t\t\t\tif (this.IsOnBoard(cellPos) && this.cellIsEmpty(target)) {\r\n\t\t\t\t\tvalid.push(target);\r\n\t\t\t\t\t// target.mark(\"rgba(0,255,0,0.5)\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn valid;\r\n\t}\r\n\r\n\tgetValidCaptures(cell) {\r\n\t\tvar moves = cell.piece.logic[\"captureMoves\"];\r\n\t\tvar valid = [];\r\n\t\tfor (var i in moves) {\r\n\t\t\tvar dir = moves[i];\r\n\t\t\tfor (var j in dir) {\r\n\t\t\t\tvar move = dir[j];\r\n\t\t\t\tvar cellPos = this.calcOffset(cell, move.x, move.y);\r\n\t\t\t\tvar cellIndex = this.posToIndex(cellPos);\r\n\t\t\t\tvar target = this.cells[cellIndex];\r\n\t\t\t\tif (this.IsOnBoard(cellPos)) {\r\n\t\t\t\t\tif (this.cellIsOpponent(cell, target)) {\r\n\t\t\t\t\t\tvalid.push(target);\r\n\t\t\t\t\t\t// target.mark(\"rgba(0,0,255,0.5)\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!this.cellIsEmpty(target)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn valid;\r\n\t}\r\n\r\n\tmarkCells(cells) {\r\n\t\tfor (var cellIndex in cells) {\r\n\t\t\tvar cell = cells[cellIndex];\r\n\t\t\tcell.mark(\"rgba(0,0,255,0.2)\");\r\n\t\t}\r\n\t}\r\n\r\n\tunmarkCells() {\r\n\t\tfor (var cellIndex in this.cells) {\r\n\t\t\tvar cell = this.cells[cellIndex];\r\n\t\t\tcell.unmark();\r\n\t\t}\r\n\t}\r\n\r\n\tmove(cell, target) {\t\t\r\n\t\tvar self = this;\r\n\t\tnew PieceAnimator(this.board, cell, target, function() {self.finishMove(cell, target); });\r\n\r\n\t\tvar piece = cell.piece;\r\n\t\tvar cellIndex = this.posToIndex(cell);\r\n\t\tconsole.log(cellIndex);\r\n\t\tthis.cells[cellIndex].removePiece();\r\n\r\n\t\tvar targetIndex = this.posToIndex(target);\r\n\t\tconsole.log(targetIndex);\r\n\t\tthis.cells[targetIndex].removePiece();\r\n\t\tthis.cells[targetIndex].addPiece(piece);\r\n\t\tthis.cells[targetIndex].hide();\r\n\r\n\t}\r\n\r\n\tfinishMove(cell, target) {\t\r\n\t\tvar targetIndex = this.posToIndex(target);\t\r\n\t\tthis.cells[targetIndex].show();\r\n\t}\r\n\r\n\tcellIsEmpty(cell) {\r\n\t\tif (!cell.hasPiece()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcellIsOpponent(cell, target) {\r\n\t\tif (target.hasPiece()) {\r\n\t\t\tif (target.piece.color != cell.piece.color) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tIsOnBoard(pos) {\r\n\t\tif (0 <= pos.x && pos.x < this.size.x && 0 <= pos.y && pos.y < this.size.y ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcalcOffset(cell, x, y) {\r\n\t\tconsole.log(cell.x, cell.y);\r\n\t\treturn {x: cell.x + x, y: cell.y + y};\r\n\t}\r\n\r\n\tposToIndex(pos) {\r\n\t\treturn pos.y*this.size.x + pos.x; \r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/Board.js","export class Cell {\r\n\tconstructor(config) {\r\n\t\tthis.color = config[\"color\"];\r\n\t\tthis.size = config[\"size\"];\r\n\t\tthis.x = config[\"pos\"][0];\r\n\t\tthis.y = config[\"pos\"][1];\r\n\t\tthis.piece = false;\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"cell\");\r\n\t\tthis.element.style.backgroundColor = this.color;\r\n\t\tthis.element.style.width = 100 / this.size.x + \"%\";\r\n\t\tthis.element.style.height = 100 / this.size.y + \"%\";\r\n\r\n\t\tthis.onClick = function(){};\r\n\r\n\t\tvar self = this;\r\n\t\tthis.element.addEventListener(\"click\", function(e) { self.clickedOnCell() });\r\n\t}\r\n\r\n\tclickedOnCell() {\r\n\t\tthis.onClick(this);\r\n\t}\r\n\t\r\n\r\n\thasPiece() {\r\n\t\tif (this.piece) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetElement() {\r\n\t\treturn this.element;\r\n\t}\r\n\r\n\taddPiece(piece) {\r\n\t\tthis.piece = piece;\r\n\t\tconsole.log(piece);\r\n\t\tthis.element.append(this.piece.getElement());\r\n\t}\r\n\r\n\thide() {\r\n\t\tif (this.hasPiece()) {\r\n\t\t\tthis.piece.hide();\r\n\t\t}\r\n\t}\r\n\r\n\tshow() {\r\n\t\tif (this.hasPiece()) {\r\n\t\t\tthis.piece.show();\r\n\t\t}\r\n\t}\r\n\r\n\tremovePiece() {\r\n\t\tif (this.hasPiece()) {\r\n\t\t\tthis.piece = false;\r\n\t\t\tthis.element.children[0].remove();\r\n\t\t}\r\n\t}\r\n\r\n\tmark(color) {\r\n\t\tthis.element.classList.add(\"marked\");\r\n\t}\r\n\r\n\tunmark() {\r\n\t\tthis.element.classList.remove(\"marked\");\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/Cell.js","export class PieceAnimator {\r\n\tconstructor(board, from, to, callback) {\r\n\t\tthis.callback = callback;\r\n\t\tthis.board = board;\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"piece-animator\");\r\n\t\tthis.animate(from, to);\r\n\t}\r\n\r\n\tanimate(from, to) {\r\n\t\tvar piece = from.piece;\r\n\t\tvar fromTop = from.element.getBoundingClientRect().top + document.documentElement.scrollTop;\r\n\t\tvar fromLeft = from.element.getBoundingClientRect().left + document.documentElement.scrollLeft;\r\n\t\tvar toTop = to.element.getBoundingClientRect().top + document.documentElement.scrollTop;\r\n\t\tvar toLeft = to.element.getBoundingClientRect().left + document.documentElement.scrollLeft;\r\n\t\tvar background = piece.element.style.backgroundImage;\r\n\t\tthis.element.style.width = from.element.getBoundingClientRect().width + \"px\";\r\n\t\tthis.element.style.height = from.element.getBoundingClientRect().height + \"px\";\r\n\t\tthis.element.style.transform = `translate3D(${fromLeft}px, ${fromTop}px, 0)`;\r\n\t\tthis.element.style.backgroundImage = background;\r\n\t\tdocument.body.append(this.element);\r\n\r\n\t\tvar self = this;\r\n\t\tsetTimeout(function()\t{ self.to(toLeft, toTop) }, 100);\r\n\t}\r\n\r\n\tto(x, y) {\r\n\t\tthis.element.style.transform = `translate3D(${x}px, ${y}px, 0)`;\r\n\t\tvar self = this;\r\n\t\tsetTimeout(function()\t{ self.triggerCallback() }, 500);\r\n\t}\r\n\r\n\ttriggerCallback() {\r\n\t\tdocument.body.removeChild(this.element);\r\n\t\tthis.callback();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/PieceAnimator.js","export class Player {\r\n\tconstructor(config) {\r\n\t\tthis.name = config[\"name\"];\r\n\t\tthis.color = config[\"color\"];\r\n\t\tthis.orientation = config[\"orientation\"];\r\n\t\tthis.layout = config[\"layout\"];\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/Player.js","export class Logic {\r\n\tconstructor(logic) {\r\n\t\tthis.parsedRules = {captureMoves: [], moves: [], firstMoves: [], firstCapures: []};\r\n\t\tthis.rules = logic.split(\";\");\r\n\r\n\t\tfor (var index in this.rules) {\r\n\t\t\tvar rule = this.rules[index];\r\n\t\t\tvar parsedRule = new Rule(rule).get();\r\n\t\t\t// console.log(rule, parsedRule);\r\n\t\t\tthis.add(parsedRule);\r\n\t\t}\r\n\t}\r\n\r\n\tadd(rules) {\r\n\r\n\t\tfor (var type in rules) {\r\n\t\t\tthis.parsedRules[type].push(rules[type]);\r\n\t\t}\r\n\t}\r\n\r\n\tget() {\r\n\t\treturn this.parsedRules;\r\n\t}\r\n}\r\n\r\nexport class Rule {\t\r\n\r\n\t// LOGIC\r\n\t// * all coordinates are relative to the playing direction. \r\n\t// * 1 = towards opponent, -1 away from opponent\r\n\t// \r\n\t// normal rule:\r\n\t// [m][c][f]<x>[i][<nr_of_steps>],<y>[i][<nr_of_steps>];\r\n\t// example: mc0,1i2;\r\n\t// \r\n\t// transfrom rule:\r\n\t// t[r<row_id>|c<column_id>],<piece_id>;\r\n\t// example: tr1,2;\r\n\t// \r\n\t// win condition:\r\n\t// w[??]\r\n\t// \r\n\tconstructor(rule) {\r\n\r\n\t\tthis.rule = rule;\r\n\r\n\t\tthis.isMove = false;\r\n\t\tthis.isCapture = false;\r\n\t\tthis.isFirst = false;\r\n\r\n\t\tthis.move = [0, 0];\r\n\t\tthis.infinite = [false, false];\r\n\t\tthis.infinitePower = [8, 8];\r\n\r\n\t\tthis.coordIndex = 0;\r\n\t\tthis.nrIndex = 0;\r\n\t\tthis.negative = false;\r\n\t\tthis.index = 0;\r\n\r\n\t\twhile(this.index < this.rule.length) {\r\n\t\t  var char = this.rule.charAt(this.index);\r\n\r\n\t   \tif (char == \"m\") {\r\n\t  \t\tthis.isMove = true;\r\n\t  \t}\r\n\t  \tif (char == \"c\") {\r\n\t  \t\tthis.isCapture = true;\r\n\t  \t}\r\n\t  \tif (char == \"f\") {\r\n\t  \t\tthis.isFirst = true;\r\n\t  \t}\r\n\t  \tif (char == \"-\") {\r\n\t  \t\tthis.negative = true;\r\n\t  \t}\r\n\t  \tif (isNaN(parseInt(char)) == false) {\r\n\t  \t\tif (this.infinite[this.coordIndex]) {\r\n\t  \t\t\tthis.infinitePower[this.coordIndex] = parseInt(char);\r\n\t  \t\t} else {\r\n\t\t\t\t\tthis.move[this.coordIndex] *= Math.pow(10, this.nrIndex);\r\n\t\t\t\t\tthis.move[this.coordIndex] += parseInt(char) * (this.negative ? -1 : 1);\t\t\t\t\r\n\t\t\t\t\tthis.nrIndex++;\r\n\t  \t\t}\r\n\t  \t\t\r\n\t  \t}\r\n\t  \tif (char == \"i\") {\r\n\t  \t\tthis.infinite[this.coordIndex] = true;\r\n\t  \t}\r\n\t  \tif (char == \",\") { \r\n\t\t\t\tthis.coordIndex++;\r\n\t\t\t\tthis.negative = false;\r\n\t  \t\tthis.infinite[this.coordIndex] = false;\r\n\t\t\t\tthis.nrIndex = 0;\r\n\t  \t}\r\n\t\t  this.index++;\r\n\t\t}\r\n\t}\r\n\r\n\tget() {\r\n\t\tvar moves = this.calcInfinite();\r\n\t\tvar all = {\r\n\t\t\tcaptureMoves: this.isCapture && !this.isFirst ? moves : [],\r\n\t\t\tmoves: this.isMove && !this.isFirst ? moves : [],\r\n\t\t\tfirstMoves: this.isFirst && this.isMove ? moves : [],\r\n\t\t\tfirstCapures: this.isFirst && this.isCapture ? moves : [],\r\n\r\n\t\t};\r\n\t\treturn all;\r\n\t}\r\n\r\n\tcalcInfinite() {\r\n\t\tvar moves = [];\r\n\r\n\t\t// check if it has infinities\r\n\t\tif (this.infinite[0] == true || this.infinite[1] == true) {\r\n\r\n\t\t\t// when only one infinity \r\n\t\t\tif (this.infinite[0] != true || this.infinite[1] != true) {\r\n\r\n\t\t\t\t// loop through axis'\r\n\t\t\t\tfor(var index in this.infinitePower) {\r\n\t\t\t\t\tif (this.infinite[index]) {\r\n\t\t\t\t\t\tvar power = this.infinitePower[index];\r\n\t\t\t\t\t\tif (power > 0) {\r\n\t\t\t\t\t\t\tfor(var i = 1; i < power + 1; i++) {\r\n\t\t\t\t\t\t\t\tvar move = [this.move[0], this.move[1]];\r\n\t\t\t\t\t\t\t\t// console.log(\"move:\", move);\r\n\t\t\t\t\t\t\t\tmove[index] *= i;\r\n\t\t\t\t\t\t\t\t// console.log(\"adding to move:\", move);\r\n\t\t\t\t\t\t\t\tmoves.push({x: move[0], y: move[1]});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\t// combine two infinities\r\n\t\t\telse {\r\n\t\t\t\tvar lowestPower = (this.infinitePower[0] < this.infinitePower[1] && this.infinitePower[0] != 0) ? this.infinitePower[0] : this.infinitePower[1];\r\n\r\n\t\t\t\tfor(var i = 0; i < lowestPower; i++) {\r\n\t\t\t\t\tvar move = {x: this.move[0], y: this.move[1]};\r\n\t\t\t\t\tmove.x += this.move[0] * i;\r\n\t\t\t\t\tmove.y += this.move[1] * i;\r\n\t\t\t\t\tmoves.push(move);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn moves;\r\n\t\t} else {\r\n\t\t\treturn [ \r\n\t\t\t\t{x: this.move[0], y: this.move[1]} \r\n\t\t\t];\r\n\t\t}\r\n\t\t\r\n\t/*\t\r\n\t\t// if both axis are infinite with limit \r\n\t\tif (this.infinitePower[0] != 0 && this.infinitePower[1] != 0) {\r\n\r\n\t\t} else { // if one axis is infinite\r\n\r\n\t\t}*/\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/raw/Logic.js"],"sourceRoot":""}